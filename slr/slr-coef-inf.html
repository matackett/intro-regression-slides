<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Simple Linear Regression</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr.Â Maria Tackett" />
    <link rel="stylesheet" href="slides.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: title-slide 

&lt;br&gt;&lt;br&gt;

# Simple Linear Regression 
## Inference

&lt;br&gt;&lt;br&gt;&lt;br&gt;

### Dr. Maria Tackett

---

## Topics 

--


  
--







---

## Movie ratings data 

The data set contains the "Tomatometer" score (**`critics`**) and audience score (**`audience`**) for 146 movies rated on rottentomatoes.com.

&lt;img src="slr-coef-inf_files/figure-html/unnamed-chunk-2-1.png" style="display: block; margin: auto;" /&gt;


---

## Movie ratings data 

We want to fit a line to describe the relationship between the critics score and audience score.

&lt;img src="slr-coef-inf_files/figure-html/unnamed-chunk-3-1.png" style="display: block; margin: auto;" /&gt;



---

### Questions of interest

In our example, we will treat the data as a random sample of movies from rottentomatoes.com

**Questions of interest**
- What is a plausible range of values of the true population slope for `critics`? (&lt;font class = "vocab"&gt;confidence interval&lt;/font&gt;)

- Is there actually a linear relationship between `critics` and `audience`, or is the relationshp we observed due to random chance? 
    - We estimated `\(\hat{\beta}_1 = 0.519\)`, but is there sufficient evidence to conclude that the true population slope `\(\beta\)` is different from 0? (&lt;font class = "vocab"&gt;hypothesis test&lt;/font&gt;)
    
---

class: middle, center

### What is a plausible range of values of the true population slope for `critics`?

---

### General form of the confidence interval

- Let &lt;font class="vocab"&gt;SE&lt;/font&gt; be the standard error of the statistic used to estimate the parameter of interest, then the general form of the confidence interval is

.alert[
`$$\text{ Estimate} \pm \text{ (critical value) } \times \text{SE}$$`
]
- *Note*: The critical value is determined by the distribution of the estimate (statistic) and the confidence level

- For the regression slope: 
    - `\(\hat{\beta}_1\)` is the statistic used to estimate the parameter, `\(\beta_1\)` 
    - We will write the confidence interval as 
    `$$\mathbf{\hat{\beta}_1 \pm t^* SE(\hat{\beta}_1)}$$`
    
---

### Confidence interval for `\(\beta_1\)`

- The confidence interval for the regression slope is 

.alert[
`$$\mathbf{\hat{\beta}_1 \pm t^* SE(\hat{\beta}_1)}$$`
]

- `\(t^*\)` is the critical value associated with the confidence level.
  + It is calculated from a `\(t\)` distribution with `\(n-2\)` degrees of freedom
  
- `\(SE(\hat{\beta}_1)\)` is the standard error for the slope 

`$$SE(\hat{\beta}_1) = \sqrt{\frac{\hat{\sigma}^2}{\sum\limits_{i=1}^n (x_i - \bar{x})^2}} \hspace{2.5mm} = \hspace{2.5mm} \hat{\sigma}\sqrt{\frac{1}{(n-1)s_X^2}}$$`

---

### What is `\(\hat{\sigma}\)`?

- Recall, the residual is the difference between the observed response the predicted response (the estimated mean) 
    - The residual for the ith observation, `\((x_i, y_i)\)`, is
    
    `$$e_i = y_i - (\hat{\beta}_0 + \hat{\beta}_1 x_i)$$` 

- The &lt;font class = "vocab"&gt;Residual Standard Error&lt;/font&gt; is the estimate of variation about the regression line
    - Also known as the **Root Mean Square Error (RMSE)**

.alert[
`$$\hat{\sigma} = \sqrt{\frac{1}{n-2}\sum\limits_{i=1}^{n} e_i^2}$$`
]
---

### Why *t*? 

.alert[
`$$\hat{\beta}_1 \sim N \Bigg(\beta_1, \sigma\sqrt{\frac{1}{(n-1)s_X^2}} \Bigg)$$`
]

- We don't know `\(\sigma\)`, so we use its estimate `\(\hat{\sigma}\)` in our calculations. Therefore, we use the *t* distribution when we calculate the confidence interval (and conduct hypothesis tests) to account for the extra variability that's been introduced (same reason we use *t* when doing inference for a mean)

- The critical value `\(t^*\)` is calculated from the *t(n-2)* distribution - the *t* distribution with *n-2* degrees of freedom.

---

### Movies data: Critical value


```
## [1] 1.976575
```

&lt;img src="slr-coef-inf_files/figure-html/unnamed-chunk-6-1.png" style="display: block; margin: auto;" /&gt;

---
### Calculating the 95% CI for `\(\beta_1\)`


|   n|   var.x|  sigma| beta1| crit.val|
|---:|-------:|------:|-----:|--------:|
| 146| 910.156| 12.538| 0.519|    1.977|

.instructions[
Write the equation for the 95% confidence interval for `\(\beta_1\)`, the coefficient (slope) of `critics`. 
]

---

### Interpretation 


|term        | estimate| std.error| statistic| p.value| conf.low| conf.high|
|:-----------|--------:|---------:|---------:|-------:|--------:|---------:|
|(Intercept) |   32.316|     2.343|    13.795|       0|   27.685|    36.946|
|critics     |    0.519|     0.035|    15.028|       0|    0.450|     0.587|

.instructions[
Interpret the 95% confidence interval for `\(\beta_1\)`, the coefficient (slope) of critics.
]

---

class: middle, center

### Is there actually a linear relationship between `critics` and `audience`, or is the relationshp we observed due to random chance?

---

### Recall: Outline of Hypothesis Test

1. State the hypotheses

2. Calculate the test statistic 

3. Calculate the p-value

4. State the conclusion in the context of the problem

---

### 1. State the hypotheses

- We are often interested in testing whether there is a statistically significant linear relationship between the predictor and response variables

- If there is actually no linear relationship between the two variables, the population regression slope, `\(\beta_1\)`, would equal 0 
--

- Therefore, let's test the hypotheses: 

.alert[
`$$\begin{aligned}&amp; H_0: \beta_1 = 0\\&amp; H_a: \beta_1 \neq 0\end{aligned}$$`
]

- These are the hypotheses corresponding to the output from the `lm` function


---

### 2. Calculate the test statistic

`$$\begin{aligned}&amp; H_0: \beta_1 = 0\\&amp; H_a: \beta_1 \neq 0\end{aligned}$$`


.alert[
**Test Statistic:**
`$$\begin{aligned}\text{test statistic} &amp;= \frac{\text{Estimate} - \text{Hypothesized}}{SE} \\[10pt]
&amp;= \frac{\hat{\beta}_1 - 0}{SE(\hat{\beta}_1)}\end{aligned}$$`
]

---

### 3. Calculate the p-value

&lt;font class="vocab"&gt;p-value&lt;/font&gt; is calculated from a `\(t\)` distribution with `\(n-2\)` degrees of freedom

.alert[
`$$\text{p-value} = P(t \geq |\text{test statistic}|)$$`
]

&lt;img src="slr-coef-inf_files/figure-html/unnamed-chunk-9-1.png" style="display: block; margin: auto;" /&gt;

---


class: middle, center

.instructions[
**Write the general definition of the p-value for tests of `\(\beta_1\)`.**
]

---

### 4. State the conclusion 

|  Magnitude of p-value |             Interpretation            |
|:---------------------:|:-------------------------------------:|
| p-value &lt; 0.01        | strong evidence against `\(H_0\)`         |
| 0.01 &lt; p-value &lt; 0.05 | moderate evidence against `\(H_0\)`       |
| 0.05 &lt; p-value &lt; 0.1  | weak evidence against `\(H_0\)`           |
| p-value &gt; 0.1         | effectively no evidence against `\(H_0\)` |
&lt;br&gt; 
&lt;br&gt;

**Notes:** 

- These are general guidelines. The strength of evidence depends on the context of the problem.
- Don't just rely on the reject/fail to reject conclusion from the hypothesis test to draw conclusions about the relationship between `\(x\)` and `\(y\)`. Use the EDA and confidence intervals to provide more context about the implications of your results.

---

### Movie data: Hypothesis test for `\(\beta_1\)` 


|term        | estimate| std.error| statistic| p.value|
|:-----------|--------:|---------:|---------:|-------:|
|(Intercept) |   32.316|     2.343|    13.795|       0|
|critics     |    0.519|     0.035|    15.028|       0|

.instructions[
a. State the hypotheses in (1) words and (2) statistical notation.  

b. What is the meaning of the test statistic in the context of the problem? 

c. What is the meaning of the p-value in the context of the problem?

d. State the conclusion in context of the problem.
]



---

## Recap
--


--
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "4:3",
"slideNumberFormat": "%current%"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
